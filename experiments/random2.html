<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>More Randomness!</title>
</head>
<body>
	<div>
		<canvas id="canvas" width="800px" height="500px">Sorry, canvas is not working.</canvas>
	</div>
	<div>
		<canvas id="danvas" width="800px" height="200px">Sorry, canvas is not working.</canvas>
		<input type="range" min="1" max="1500" onchange="cube(this.value/100)">
	</div>
	<script>
		clicking=false;
		var c=document.getElementById("canvas");
		var ctx=c.getContext("2d");
		var d=document.getElementById("danvas");
		var dtx=d.getContext("2d");
		startX=400,startY=0;
		render();
		function render() {
			//cone
			c.width=c.width;
			ctx.strokeStyle="rgba(255,0,0,.15)";
			ctx.beginPath();
			ctx.moveTo(startX,startY);
			for (var i=0;i<=360;i++) {
				ctx.lineTo(Math.cos(i)*50+400,Math.sin(i)*50+250);
				ctx.moveTo(startX,startY);
			}
			ctx.closePath();
			ctx.stroke();
		}
		function cube(n) {
			//cube
			var size=125;
			d.width=d.width;
			dtx.strokeStyle="rgba(50,100,200,.2)";
			dtx.beginPath();
			for (var i=0;i<=size;i+=size/n) {
				for (var j=0;j<=size;j+=1) {
					dtx.moveTo(i,j);
					dtx.lineTo(i+size/2,j+size/2);
				}
			}
			dtx.closePath();
			dtx.stroke();
		}
		cube(5);
		document.getElementById("canvas").onmousedown=function() {
			clicking=true;
		}
		document.getElementById("canvas").onmouseup=function() {
			clicking=false;
		}
		document.getElementById("canvas").onmousemove=function(e) {
		    if (!clicking) return;
		    var mouseX, mouseY;

		    if(e.offsetX) {
		        mouseX = e.offsetX;
		        mouseY = e.offsetY;
		    }
		    else if(e.layerX) {
		        mouseX = e.layerX;
		        mouseY = e.layerY;
		    }
		    startX=mouseX;
		    startY=mouseY;
		    render();
		}
	</script>
</body>